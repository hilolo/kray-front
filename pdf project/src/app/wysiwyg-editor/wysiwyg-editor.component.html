<div class="wysiwyg-container">
  <div class="wysiwyg-header">
    <h2>WYSIWYG Editor</h2>
    <div class="wysiwyg-actions">
      <button class="btn btn-logo" (click)="insertLogo()">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
          <circle cx="8.5" cy="8.5" r="1.5"></circle>
          <polyline points="21 15 16 10 5 21"></polyline>
        </svg>
        Insert Logo
      </button>
      <button class="btn btn-placeholder" (click)="insertTextPlaceholder()">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M4 7V4h16v3M9 20h6M12 4v16"/>
        </svg>
        Add #text#
      </button>
      <button class="btn btn-primary" (click)="convertToHtml()">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <polyline points="16 18 22 12 16 6"></polyline>
          <polyline points="8 6 2 12 8 18"></polyline>
        </svg>
        Convert to HTML
      </button>
      <button class="btn btn-secondary" (click)="clearEditor()">Clear</button>
    </div>
  </div>
  <div #editor class="quill-editor"></div>
  
  <div class="wysiwyg-footer">
    <button class="btn btn-copy" (click)="copyHtmlToClipboard()">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
        <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
      </svg>
      Copy HTML
    </button>
    <button class="btn btn-import" (click)="openImportModal()">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
        <polyline points="7 10 12 15 17 10"></polyline>
        <line x1="12" y1="15" x2="12" y2="3"></line>
      </svg>
      Paste/Import HTML
    </button>
  </div>
  
  <!-- Import HTML Modal -->
  <div class="modal-overlay" *ngIf="showImportModal" (click)="closeImportModal()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <div class="modal-header">
        <h3>Import HTML</h3>
        <button class="close-btn" (click)="closeImportModal()">Ã—</button>
      </div>
      <div class="modal-body">
        <label for="htmlInput">Paste your HTML code below:</label>
        <textarea 
          id="htmlInput"
          [(ngModel)]="importHtml" 
          placeholder="<p>Your HTML content here...</p>"
          rows="10"
          class="html-input">
        </textarea>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" (click)="closeImportModal()">Cancel</button>
        <button class="btn btn-primary" (click)="validateAndImportHtml()">Import</button>
      </div>
    </div>
  </div>
  
  <!-- Text Replacement Modal -->
  <app-text-replacement-modal 
    #modal
    [isVisible]="showModal"
    (confirm)="onModalConfirm($event)"
    (cancel)="onModalCancel()">
  </app-text-replacement-modal>
</div>

