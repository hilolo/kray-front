<z-header>
  <div class="flex items-center justify-between h-full w-full">
    <!-- Left Section: Burger Menu (Mobile) + Logo -->
    <div class="flex items-center gap-2 flex-shrink-0">
      <!-- Burger Menu Button (Mobile Only) -->
      <z-button
        zType="ghost"
        zSize="icon"
        class="md:hidden"
        (click)="onMobileMenuClick()"
        [attr.aria-label]="'menu.open' | translate"
      >
        <z-icon zType="panel-left" />
      </z-button>
      
      @if (!logoError()) {
        <img 
          [src]="currentTheme() === 'dark' ? '/assets/logo-white.svg' : '/assets/logo.svg'" 
          alt="Logo" 
          class="h-8 w-auto"
          (error)="logoError.set(true)"
        />
      } @else {
        <span class="text-lg font-bold">Logo</span>
      }
    </div>
    
    <!-- Controls Section - Right -->
    <div class="flex items-center gap-3 flex-shrink-0">
      <!-- Search Input -->
      <button
        type="button"
        (click)="openCommandPalette()"
        class="flex items-center gap-2 px-3 py-1.5 text-sm text-muted-foreground bg-muted border border-border rounded-md hover:bg-accent hover:text-accent-foreground transition-colors cursor-pointer max-w-[200px] w-full"
      >
        <z-icon zType="search" zSize="sm" class="shrink-0" />
        <span class="flex-1 text-left truncate">Search</span>
        <kbd class="pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-muted px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100">
          <span class="text-xs">âŒ˜</span>K
        </kbd>
      </button>

      <!-- Language Dropdown -->
      <z-dropdown-menu>
        <z-button
          dropdown-trigger
          zType="ghost"
          zSize="sm"
        >
          {{ currentLanguage() === 'en' ? 'EN' : 'FR' }}
        </z-button>
        
        <z-dropdown-menu-item (click)="setLanguage('en')" [class.bg-accent]="currentLanguage() === 'en'">
          {{ 'language.english' | translate }}
        </z-dropdown-menu-item>
        <z-dropdown-menu-item (click)="setLanguage('fr')" [class.bg-accent]="currentLanguage() === 'fr'">
          {{ 'language.french' | translate }}
        </z-dropdown-menu-item>
      </z-dropdown-menu>

      <!-- Fullscreen Toggle -->
      <z-button
        (click)="toggleFullscreen()"
        zType="ghost"
        zSize="icon"
        [attr.aria-label]="isFullscreen() ? ('Exit fullscreen' | translate) : ('Enter fullscreen' | translate)"
      >
        @if (isFullscreen()) {
          <z-icon zType="minimize2" />
        } @else {
          <z-icon zType="maximize2" />
        }
      </z-button>

      <!-- Dark Mode Toggle -->
      <z-button
        (click)="toggleTheme()"
        zType="ghost"
        zSize="icon"
        [attr.aria-label]="currentTheme() === 'dark' ? ('theme.switchToLight' | translate) : ('theme.switchToDark' | translate)"
      >
        @if (currentTheme() === 'dark') {
          <z-icon zType="sun" />
        } @else {
          <z-icon zType="moon" />
        }
      </z-button>

      <!-- Logout Button -->
      <z-button
        (click)="showLogoutConfirmation()"
        zType="ghost"
        zSize="icon"
        [attr.aria-label]="'Log out' | translate"
      >
        <z-icon zType="log-out" />
      </z-button>
    </div>
  </div>
</z-header>

