<div class="min-h-screen flex items-center justify-center bg-background p-4">
  <div class="w-full max-w-md space-y-8">
    <div class="text-center space-y-4">
      @if (!logoError()) {
        <img 
          [src]="currentTheme() === 'dark' ? '/assets/logo-white.svg' : '/assets/logo.svg'" 
          alt="Logo" 
          class="h-12 w-auto mx-auto"
          (error)="logoError.set(true)"
        />
      } @else {
        <div class="h-12 flex items-center justify-center">
          <span class="text-2xl font-bold">Logo</span>
        </div>
      }
      <div class="space-y-2">
        <h1 class="text-3xl font-bold tracking-tight">{{ 'login.welcomeBack' | translate }}</h1>
        <p class="text-muted-foreground">{{ 'login.enterCredentials' | translate }}</p>
      </div>
    </div>

    <div class="rounded-lg border bg-card p-6 shadow-sm">
      <form (ngSubmit)="onSubmit($event)" class="space-y-6" #loginForm="ngForm">
        <z-form-field>
          <z-form-label zRequired>{{ 'login.email' | translate }}</z-form-label>
          <z-form-control [errorMessage]="emailError()">
            <input
              z-input
              type="email"
              [(ngModel)]="email"
              name="email"
              [placeholder]="'login.emailPlaceholder' | translate"
              required
              autocomplete="email"
              class="w-full"
            />
          </z-form-control>
        </z-form-field>

        <z-form-field>
          <z-form-label zRequired>{{ 'login.password' | translate }}</z-form-label>
          <z-form-control [errorMessage]="passwordError()">
            <div class="relative">
              <input
                z-input
                [type]="showPassword() ? 'text' : 'password'"
                [(ngModel)]="password"
                name="password"
                [placeholder]="'login.enterPassword' | translate"
                required
                autocomplete="current-password"
                class="w-full pr-10"
              />
              <button
                type="button"
                (click)="togglePasswordVisibility()"
                class="absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors"
                [attr.aria-label]="showPassword() ? ('common.hidePassword' | translate) : ('common.showPassword' | translate)"
              >
                @if (showPassword()) {
                  <z-icon zType="eye-off" zSize="sm" />
                } @else {
                  <z-icon zType="eye" zSize="sm" />
                }
              </button>
            </div>
          </z-form-control>
        </z-form-field>

        <div class="flex items-center justify-between">
          <label class="flex items-center space-x-2 cursor-pointer">
            <input
              type="checkbox"
              [(ngModel)]="rememberMe"
              name="rememberMe"
              class="rounded border-gray-300"
            />
            <span class="text-sm text-muted-foreground">{{ 'login.rememberMe' | translate }}</span>
          </label>
          <a routerLink="/forgot-password" class="text-sm text-primary hover:underline">{{ 'login.forgotPassword' | translate }}</a>
        </div>

        @if (errorMessage()) {
          <div class="rounded-md bg-destructive/15 p-3 text-sm text-destructive">
            {{ errorMessage() }}
          </div>
        }

        <button
          z-button
          type="submit"
          zType="default"
          zSize="default"
          zFull
          [zLoading]="isLoading()"
          [disabled]="isLoading()"
        >
          @if (!isLoading()) {
            {{ 'login.signIn' | translate }}
          } @else {
            {{ 'login.signingIn' | translate }}
          }
        </button>
      </form>

   
    </div>
  </div>
</div>

